(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1227:function(e){e.exports={version:8,name:"Basic",metadata:{"mapbox:autocomposite":!0},sources:{mapbox:{url:"mapbox://mapbox.mapbox-streets-v7",type:"vector"}},sprite:"mapbox://sprites/mapbox/basic-v8",glyphs:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"#dedede"},interactive:!0},{id:"landuse_overlay_national_park",type:"fill",source:"mapbox","source-layer":"landuse_overlay",filter:["==","class","national_park"],paint:{"fill-color":"#d2edae","fill-opacity":.75},interactive:!0},{id:"landuse_park",type:"fill",source:"mapbox","source-layer":"landuse",filter:["==","class","park"],paint:{"fill-color":"#d2edae"},interactive:!0},{id:"waterway",type:"line",source:"mapbox","source-layer":"waterway",filter:["all",["==","$type","LineString"],["in","class","river","canal"]],paint:{"line-color":"#a0cfdf","line-width":{base:1.4,stops:[[8,.5],[20,15]]}},interactive:!0},{id:"water",type:"fill",source:"mapbox","source-layer":"water",paint:{"fill-color":"#a0cfdf"},interactive:!0},{id:"building",type:"fill",source:"mapbox","source-layer":"building",paint:{"fill-color":"#d6d6d6"},interactive:!0},{interactive:!0,layout:{"line-cap":"butt","line-join":"miter"},filter:["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","tunnel"]]],type:"line",source:"mapbox",id:"tunnel_minor",paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,.25],[20,30]]},"line-dasharray":[.36,.18]},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"butt","line-join":"miter"},filter:["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","tunnel"]]],type:"line",source:"mapbox",id:"tunnel_major",paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]},"line-dasharray":[.28,.14]},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round"},filter:["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["in","structure","none","ford"]]],type:"line",source:"mapbox",id:"road_minor",paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,.25],[20,30]]}},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round"},filter:["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["in","structure","none","ford"]]],type:"line",source:"mapbox",id:"road_major",paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]}},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"butt","line-join":"miter"},filter:["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","bridge"]]],type:"line",source:"mapbox",id:"bridge_minor case",paint:{"line-color":"#dedede","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"butt","line-join":"miter"},filter:["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","bridge"]]],type:"line",source:"mapbox",id:"bridge_major case",paint:{"line-color":"#dedede","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round"},filter:["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","bridge"]]],type:"line",source:"mapbox",id:"bridge_minor",paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,.25],[20,30]]}},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round"},filter:["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","bridge"]]],type:"line",source:"mapbox",id:"bridge_major",paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]}},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round"},filter:["all",["==","$type","LineString"],["all",["<=","admin_level",2],["==","maritime",0]]],type:"line",source:"mapbox",id:"admin_country",paint:{"line-color":"#8b8a8a","line-width":{base:1.3,stops:[[3,.5],[22,15]]}},"source-layer":"admin"},{interactive:!0,minzoom:5,layout:{"icon-image":"{maki}-11","text-offset":[0,.5],"text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-max-width":8,"text-anchor":"top","text-size":11,"icon-size":1},filter:["all",["==","$type","Point"],["all",["==","scalerank",1],["==","localrank",1]]],type:"symbol",source:"mapbox",id:"poi_label",paint:{"text-color":"#666","text-halo-width":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-blur":1},"source-layer":"poi_label"},{interactive:!0,layout:{"symbol-placement":"line","text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-transform":"uppercase","text-letter-spacing":.1,"text-size":{base:1.4,stops:[[10,8],[20,14]]}},filter:["all",["==","$type","LineString"],["in","class","motorway","primary","secondary","tertiary","trunk"]],type:"symbol",source:"mapbox",id:"road_major_label",paint:{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2},"source-layer":"road_label"},{interactive:!0,minzoom:8,layout:{"text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-max-width":6,"text-size":{stops:[[6,12],[12,16]]}},filter:["all",["==","$type","Point"],["in","type","town","village","hamlet","suburb","neighbourhood","island"]],type:"symbol",source:"mapbox",id:"place_label_other",paint:{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"place_label"},{interactive:!0,layout:{"text-field":"{name_en}","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-max-width":10,"text-size":{stops:[[3,12],[8,16]]}},maxzoom:16,filter:["all",["==","$type","Point"],["==","type","city"]],type:"symbol",source:"mapbox",id:"place_label_city",paint:{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"place_label"},{interactive:!0,layout:{"text-field":"{name_en}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-max-width":10,"text-size":{stops:[[3,14],[8,22]]}},maxzoom:12,filter:["==","$type","Point"],type:"symbol",source:"mapbox",id:"country_label",paint:{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"country_label"}]}},1228:function(e,t,a){"use strict";var n=function(){var e={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"iso2",args:null,storageKey:null};return{kind:"Fragment",name:"ExplorePanelMediator_dropDownData",type:"Query",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"allIndicators",storageKey:null,args:null,concreteType:"IndicatorNodeConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"IndicatorNodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"IndicatorNode",plural:!1,selections:[e]}]}]},{kind:"LinkedField",alias:null,name:"allCountries",storageKey:null,args:null,concreteType:"CountryNodeConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CountryNodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"CountryNode",plural:!1,selections:[e,t]}]}]},{kind:"LinkedField",alias:null,name:"allRegions",storageKey:null,args:null,concreteType:"RegionNodeConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"RegionNodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"RegionNode",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"country",storageKey:null,args:null,concreteType:"CountryNode",plural:!0,selections:[t]}]}]}]}]}}();n.hash="c1f08de7ce98fe9ea082f32f90eda020",e.exports=n},1229:function(e,t,a){"use strict";var n=function(){var e=["null"],t={kind:"Literal",name:"aggregation",value:["Sum(value)"],type:"[String]"},a={kind:"Variable",name:"date_In",variableName:"datePeriod",type:"[String]"},n={kind:"Variable",name:"geolocationIso2_In",variableName:"countriesISO2",type:"[String]"},l={kind:"Literal",name:"orderBy",value:["indicatorName"],type:"[String]"},o={kind:"ScalarField",alias:null,name:"indicatorName",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"geolocationIso2",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"geolocationTag",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"date",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null},c=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FiltersNodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FiltersNode",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}];return{kind:"Fragment",name:"HomeModuleMediator_indicatorAggregations",type:"Query",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"datePeriod",type:"[String]",defaultValue:e},{kind:"LocalArgument",name:"indicator1",type:"[String]",defaultValue:e},{kind:"LocalArgument",name:"indicator2",type:"[String]",defaultValue:e},{kind:"LocalArgument",name:"subInd1",type:"[String]",defaultValue:e},{kind:"LocalArgument",name:"subInd2",type:"[String]",defaultValue:e},{kind:"LocalArgument",name:"countriesISO2",type:"[String]",defaultValue:e},{kind:"LocalArgument",name:"singleInd1",type:"String",defaultValue:"null"},{kind:"LocalArgument",name:"singleInd2",type:"String",defaultValue:"null"}],selections:[{kind:"LinkedField",alias:"indicators1",name:"datapointsAggregation",storageKey:null,args:[t,a,{kind:"Variable",name:"filterName_In",variableName:"subInd1",type:"[String]"},n,{kind:"Literal",name:"groupBy",value:["indicatorName","geolocationTag","date","geolocationIso2","geolocationPolygons"],type:"[String]"},{kind:"Variable",name:"indicatorName_In",variableName:"indicator1",type:"[String]"},l],concreteType:"DatapointsAggregationNode",plural:!0,selections:[o,i,r,{kind:"ScalarField",alias:null,name:"geolocationPolygons",args:null,storageKey:null},s,d]},{kind:"LinkedField",alias:"indicators2",name:"datapointsAggregation",storageKey:null,args:[t,a,{kind:"Variable",name:"filterName_In",variableName:"subInd2",type:"[String]"},n,{kind:"Literal",name:"groupBy",value:["indicatorName","geolocationTag","date","geolocationIso2","geolocationCenterLongLat"],type:"[String]"},{kind:"Variable",name:"indicatorName_In",variableName:"indicator2",type:"[String]"},l],concreteType:"DatapointsAggregationNode",plural:!0,selections:[o,i,r,{kind:"ScalarField",alias:null,name:"geolocationCenterLongLat",args:null,storageKey:null},s,d]},{kind:"LinkedField",alias:"subIndicators1",name:"allFilters",storageKey:null,args:[{kind:"Variable",name:"indicator_Name",variableName:"singleInd1",type:"String"}],concreteType:"FiltersNodeConnection",plural:!1,selections:c},{kind:"LinkedField",alias:"subIndicators2",name:"allFilters",storageKey:null,args:[{kind:"Variable",name:"indicator_Name",variableName:"singleInd2",type:"String"}],concreteType:"FiltersNodeConnection",plural:!1,selections:c}]}}();n.hash="0c28220be0d7b9b710110560d662b7a9",e.exports=n},1230:function(e,t,a){"use strict";var n=function(){var e=[{kind:"LocalArgument",name:"datePeriod",type:"[String]!",defaultValue:null},{kind:"LocalArgument",name:"indicator1",type:"[String]!",defaultValue:null},{kind:"LocalArgument",name:"indicator2",type:"[String]!",defaultValue:null},{kind:"LocalArgument",name:"subInd1",type:"[String]!",defaultValue:null},{kind:"LocalArgument",name:"subInd2",type:"[String]!",defaultValue:null},{kind:"LocalArgument",name:"countriesISO2",type:"[String]!",defaultValue:null},{kind:"LocalArgument",name:"singleInd1",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"singleInd2",type:"String!",defaultValue:null}],t={kind:"Literal",name:"aggregation",value:["Sum(value)"],type:"[String]"},a={kind:"Variable",name:"date_In",variableName:"datePeriod",type:"[String]"},n={kind:"Variable",name:"geolocationIso2_In",variableName:"countriesISO2",type:"[String]"},l={kind:"Literal",name:"orderBy",value:["indicatorName"],type:"[String]"},o={kind:"ScalarField",alias:null,name:"indicatorName",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"geolocationIso2",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"geolocationTag",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"date",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null},c=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FiltersNodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FiltersNode",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"query",name:"HomeModuleMediatorRefetchQuery",id:null,text:'query HomeModuleMediatorRefetchQuery(\n  $datePeriod: [String]!\n  $indicator1: [String]!\n  $indicator2: [String]!\n  $subInd1: [String]!\n  $subInd2: [String]!\n  $countriesISO2: [String]!\n  $singleInd1: String!\n  $singleInd2: String!\n) {\n  ...HomeModuleMediator_indicatorAggregations_cDkNI\n}\n\nfragment HomeModuleMediator_indicatorAggregations_cDkNI on Query {\n  indicators1: datapointsAggregation(groupBy: ["indicatorName", "geolocationTag", "date", "geolocationIso2", "geolocationPolygons"], orderBy: ["indicatorName"], aggregation: ["Sum(value)"], date_In: $datePeriod, indicatorName_In: $indicator1, geolocationIso2_In: $countriesISO2, filterName_In: $subInd1) {\n    indicatorName\n    geolocationIso2\n    geolocationTag\n    geolocationPolygons\n    date\n    value\n  }\n  indicators2: datapointsAggregation(groupBy: ["indicatorName", "geolocationTag", "date", "geolocationIso2", "geolocationCenterLongLat"], orderBy: ["indicatorName"], aggregation: ["Sum(value)"], date_In: $datePeriod, indicatorName_In: $indicator2, geolocationIso2_In: $countriesISO2, filterName_In: $subInd2) {\n    indicatorName\n    geolocationIso2\n    geolocationTag\n    geolocationCenterLongLat\n    date\n    value\n  }\n  subIndicators1: allFilters(indicator_Name: $singleInd1) {\n    edges {\n      node {\n        name\n        id\n      }\n    }\n  }\n  subIndicators2: allFilters(indicator_Name: $singleInd2) {\n    edges {\n      node {\n        name\n        id\n      }\n    }\n  }\n}\n',metadata:{},fragment:{kind:"Fragment",name:"HomeModuleMediatorRefetchQuery",type:"Query",metadata:null,argumentDefinitions:e,selections:[{kind:"FragmentSpread",name:"HomeModuleMediator_indicatorAggregations",args:[{kind:"Variable",name:"countriesISO2",variableName:"countriesISO2",type:null},{kind:"Variable",name:"datePeriod",variableName:"datePeriod",type:null},{kind:"Variable",name:"indicator1",variableName:"indicator1",type:null},{kind:"Variable",name:"indicator2",variableName:"indicator2",type:null},{kind:"Variable",name:"singleInd1",variableName:"singleInd1",type:null},{kind:"Variable",name:"singleInd2",variableName:"singleInd2",type:null},{kind:"Variable",name:"subInd1",variableName:"subInd1",type:null},{kind:"Variable",name:"subInd2",variableName:"subInd2",type:null}]}]},operation:{kind:"Operation",name:"HomeModuleMediatorRefetchQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"indicators1",name:"datapointsAggregation",storageKey:null,args:[t,a,{kind:"Variable",name:"filterName_In",variableName:"subInd1",type:"[String]"},n,{kind:"Literal",name:"groupBy",value:["indicatorName","geolocationTag","date","geolocationIso2","geolocationPolygons"],type:"[String]"},{kind:"Variable",name:"indicatorName_In",variableName:"indicator1",type:"[String]"},l],concreteType:"DatapointsAggregationNode",plural:!0,selections:[o,i,r,{kind:"ScalarField",alias:null,name:"geolocationPolygons",args:null,storageKey:null},s,d]},{kind:"LinkedField",alias:"indicators2",name:"datapointsAggregation",storageKey:null,args:[t,a,{kind:"Variable",name:"filterName_In",variableName:"subInd2",type:"[String]"},n,{kind:"Literal",name:"groupBy",value:["indicatorName","geolocationTag","date","geolocationIso2","geolocationCenterLongLat"],type:"[String]"},{kind:"Variable",name:"indicatorName_In",variableName:"indicator2",type:"[String]"},l],concreteType:"DatapointsAggregationNode",plural:!0,selections:[o,i,r,{kind:"ScalarField",alias:null,name:"geolocationCenterLongLat",args:null,storageKey:null},s,d]},{kind:"LinkedField",alias:"subIndicators1",name:"allFilters",storageKey:null,args:[{kind:"Variable",name:"indicator_Name",variableName:"singleInd1",type:"String"}],concreteType:"FiltersNodeConnection",plural:!1,selections:c},{kind:"LinkedField",alias:"subIndicators2",name:"allFilters",storageKey:null,args:[{kind:"Variable",name:"indicator_Name",variableName:"singleInd2",type:"String"}],concreteType:"FiltersNodeConnection",plural:!1,selections:c}]}}}();n.hash="83e0710f920e22fea5f61970f7255950",e.exports=n},1264:function(e,t,a){"use strict";a.r(t);var n=a(275),l=a(54),o=a(18),i=a(19),r=a(22),s=a(21),d=a(23),c=a(4),u=a(0),p=a.n(u),m=a(51),g=a(60),f=a.n(g),h=a(46),y=a.n(h),b=a(908),v=a(1258);function k(e){for(var t=[],a=e[0];a<e[1]+1;)t.push(a.toString()),a+=1;return t}var x=a(129),I=a(50),w=a(99),S=a(907),O=a(389),_=a(1009),j=a(77),N=a.n(j),C={fill:"#d00",stroke:"none"},M=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.size,a=void 0===t?20:t,n=e.onMouseEnter,o=e.onMouseLeave,i=e.extraStyle;return p.a.createElement("svg",{onMouseEnter:n,onMouseLeave:o,height:a,viewBox:"0 0 24 24",style:Object(l.a)({},C,{transform:"translate(".concat(-a/2,"px,").concat(-a,"px)")},i)},p.a.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),t}(u.PureComponent);M.__docgenInfo={description:"",methods:[],displayName:"LocationMarkerIcon"};var E=function(e,t,a){return e&&p.a.createElement(S.a,{key:"marker-".concat(t),latitude:parseFloat(e["Lat location"]),longitude:parseFloat(e["Long location"])},p.a.createElement(M,{size:20,onMouseEnter:function(){return a(e)},onMouseLeave:function(){return a(null)}}))},L=E;E.__docgenInfo={description:"",methods:[],displayName:"locationMarker"};var F=a(1),V=a(3),D=F.default.div.withConfig({displayName:"Legendstyles__LegendItem",componentId:"sc-1jehleh-0"})(["box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12);background-color:white;margin-top:14px;padding:4px 26px 14px 18px;background-color:rgba(239,239,239,0.72);"]),A=F.default.div.withConfig({displayName:"Legendstyles__LegendLabel",componentId:"sc-1jehleh-1"})(["padding:10px 0;margin-left:3px;line-height:12px;color:",";font-family:",";font-size:10px;"],V.a.color.zoomBlack,V.a.font.zoomFontFamOne),z=(F.default.div.withConfig({displayName:"Legendstyles__LegendIcon",componentId:"sc-1jehleh-2"})(["width:fit-content;margin:auto;"]),F.default.div.withConfig({displayName:"Legendstyles__LegendNumberContainer",componentId:"sc-1jehleh-3"})(["display:flex;"])),T=F.default.div.withConfig({displayName:"Legendstyles__LegendNumber",componentId:"sc-1jehleh-4"})(["color:",";margin:auto;font-family:",";font-size:10px;line-height:12px;&:first-child{margin-left:0;}&:last-child{margin-right:0;}"],V.a.color.smallTextBlack,V.a.font.zoomFontFamTwo),K=F.default.div.withConfig({displayName:"LayerLegendstyles__ColorGradient",componentId:"f7wixt-0"})(["min-width:268px;height:12px;margin:0 3px;box-shadow:0 2px 4px rgba(0,0,0,0.5);background-image:linear-gradient( to right,rgba(255,255,255,0.5) 0%,#5961bb 100% );"]);function Y(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}var B=function(e,t,a,n){var l=Math.round((n-a)/3),o=a+l,i=o+l;return e&&p.a.createElement(D,{key:"legend-".concat(t)},p.a.createElement(A,null,e),p.a.createElement(K,null),p.a.createElement(z,null,p.a.createElement(T,null,Y(a)),p.a.createElement(T,null,Y(o)),p.a.createElement(T,null,Y(i)),p.a.createElement(T,null,Y(n))))},P=B;B.__docgenInfo={description:"",methods:[],displayName:"layerLegend"};var R=function(e,t){return e&&p.a.createElement(D,{key:"legend-".concat(t)},p.a.createElement(A,null,e),p.a.createElement("div",null,p.a.createElement(M,{size:20,extraStyle:{position:"relative",top:"25px",left:"15px"}})))},$=R;R.__docgenInfo={description:"",methods:[],displayName:"locationLegend"};var U=F.default.div.withConfig({displayName:"CircleMarkerstyles__CircleContainer",componentId:"sc-19qy32p-0"})(["position:relative;"]),H=function(e){return p.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:e.width,height:e.height,viewBox:"0 0 47 48",style:{margin:e.margin}},e,{fill:"rgba(255, 255, 255, 0.65)"}),p.a.createElement("defs",null,p.a.createElement("path",{id:"md6ga",d:"M256 106.5c0-10.217 8.283-18.5 18.5-18.5s18.5 8.283 18.5 18.5-8.283 18.5-18.5 18.5-18.5-8.283-18.5-18.5z"}),p.a.createElement("mask",{id:"md6gc",width:"2",height:"2",x:"-1",y:"-1"},p.a.createElement("path",{fill:"#fff",d:"M256 88h37v37h-37z"}),p.a.createElement("use",{xlinkHref:"#md6ga"})),p.a.createElement("filter",{id:"md6gb",width:"65",height:"67",x:"242",y:"74",filterUnits:"userSpaceOnUse"},p.a.createElement("feOffset",{dy:"2",in:"SourceGraphic",result:"FeOffset1023Out"}),p.a.createElement("feGaussianBlur",{in:"FeOffset1023Out",result:"FeGaussianBlur1024Out",stdDeviation:"1.6 1.6"}))),p.a.createElement("g",{transform:"translate(-251 -84)"},p.a.createElement("g",{filter:"url(#md6gb)"},p.a.createElement("use",{fill:"none",strokeOpacity:"0.5",strokeWidth:"0",mask:'url("#md6gc")',xlinkHref:"#md6ga"}),p.a.createElement("use",{fillOpacity:"0.5",xlinkHref:"#md6ga"})),p.a.createElement("use",{fill:"#fff",fillOpacity:"0.65",xlinkHref:"#md6ga"}),p.a.createElement("use",{fill:"#fff",fillOpacity:"0",stroke:"#87f013",strokeMiterlimit:"50",strokeWidth:"4",xlinkHref:"#md6ga"})))},Z=H;function q(e,t,a){var n=t-a,l=0!==n?100*e/n:100;return 0!==l?l+20:l}function W(e,t,a){return q(e,t,a)/2}H.__docgenInfo={description:"",methods:[],displayName:"SvgCircleMarker"};var G=function(e,t,a){return e&&p.a.createElement(S.a,{key:"marker-".concat(t),latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude)},p.a.createElement(U,{style:{bottom:W(e.value,e.maxValue,e.minValue),right:W(e.value,e.maxValue,e.minValue)},onMouseEnter:function(){return a(e)},onMouseLeave:function(){return a(null)}},p.a.createElement(Z,{height:q(e.value,e.maxValue,e.minValue),width:q(e.value,e.maxValue,e.minValue)})))},J=G;G.__docgenInfo={description:"",methods:[],displayName:"circleMarker"};var Q=F.default.div.withConfig({displayName:"CircleLegendstyles__CircleLegendItem",componentId:"b149b0-0"})(["display:flex;"]),X=F.default.div.withConfig({displayName:"CircleLegendstyles__CircleNumber",componentId:"b149b0-1"})(["display:flex;flex-direction:column;height:fit-content;padding:0 19px;margin:auto auto 0 auto;&:first-child{padding-left:0;margin-left:0;}&:last-child{padding-right:0;margin-right:0;}"]),ee=Object(F.default)(A).withConfig({displayName:"CircleLegendstyles__CircleLegendLabel",componentId:"b149b0-2"})(["padding-bottom:0;"]),te=F.default.div.withConfig({displayName:"CircleLegendstyles__CircleLegendNum",componentId:"b149b0-3"})(["margin:0 auto;color:",";font-family:",";font-size:10px;line-height:12px;"],V.a.color.smallTextBlack,V.a.font.zoomFontFamTwo),ae=function(e,t,a,n){var l=Math.round((n-a)/3),o=a+l,i=o+l;return e&&p.a.createElement(D,{key:"legend-".concat(t)},p.a.createElement(ee,null,e),p.a.createElement(Q,null,p.a.createElement(X,null,p.a.createElement(Z,{height:19,width:19,margin:"auto auto 3px auto"}),p.a.createElement(te,null,Y(a))),p.a.createElement(X,null,p.a.createElement(Z,{height:24,width:24,margin:"auto auto 2px auto"}),p.a.createElement(te,null,Y(o))),p.a.createElement(X,null,p.a.createElement(Z,{height:31,width:31,margin:"auto auto 1px auto"}),p.a.createElement(te,null,Y(i))),p.a.createElement(X,null,p.a.createElement(Z,{height:37,width:37,margin:"auto auto 0 auto"}),p.a.createElement(te,null,Y(n)))))},ne=ae;ae.__docgenInfo={description:"",methods:[],displayName:"circleLegend"};var le=Object(_.a)({id:"layer",source:"layer",type:"fill",interactive:!0,paint:{"fill-color":{property:"percentile",stops:[[0,"#FFFFFF"],[8,"#0900FF"]]},"fill-opacity":.68}}),oe={id:"outline",source:"outline",type:"line",paint:{"line-width":1.5,"line-color":"#0080ef"}},ie=Object(F.default)(S.b).withConfig({displayName:"ToolTipstyle__ToolTipContainer",componentId:"sc-1v3av4f-0"})(["z-index:1;width:320px;& .mapboxgl-popup-content{background-color:rgba(239,239,239,0.67);padding:16px;}& .mapboxgl-popup-tip{display:none;}"]),re=F.default.div.withConfig({displayName:"ToolTipstyle__ToolTipText",componentId:"sc-1v3av4f-1"})(["color:",";font-family:",";font-size:12px;line-height:16px;text-align:center;"],V.a.color.zoomBlack,V.a.font.zoomFontFamTwo),se=Object(F.default)(re).withConfig({displayName:"ToolTipstyle__ToolTipLabel",componentId:"sc-1v3av4f-2"})(["font-family:",";font-size:21px;margin-bottom:12px;"],V.a.font.zoomFontFamOne);function de(e){var t=-20;void 0!==e.maxValue&&void 0!==e.minValue&&(t=-q(e.value,e.maxValue,e.minValue)/2);return t}var ce=function(e){if(e){var t=e.country;return t=t.charAt(0).toUpperCase()+t.slice(1),p.a.createElement(ie,{tipSize:5,longitude:parseFloat(e.longitude),latitude:parseFloat(e.latitude),closeButton:!1,offsetTop:de(e)},p.a.createElement(se,null,t),p.a.createElement(re,null,"Kenya (/\u02c8k\u025bnj\u0259/; locally [\u02c8k\u025b\u0272a] (About this sound listen)), officially the Republic of Kenya (Swahili: Jamhuri ya Kenya), is a country in Africa with \u2026"))}return null},ue=ce;ce.__docgenInfo={description:"",methods:[],displayName:"markerInfo"};var pe=function(e){if(e){var t=e.properties.name;return t=t.charAt(0).toUpperCase()+t.slice(1),p.a.createElement(ie,{anchor:"bottom",longitude:e.lngLat[0],latitude:e.lngLat[1],closeButton:!1,className:"info-marker-tooltip"},p.a.createElement(se,null,t),p.a.createElement(re,null,"Kenya (/\u02c8k\u025bnj\u0259/; locally [\u02c8k\u025b\u0272a] (About this sound listen)), officially the Republic of Kenya (Swahili: Jamhuri ya Kenya), is a country in Africa with \u2026"))}return null},me=pe;pe.__docgenInfo={description:"",methods:[],displayName:"layerInfo"};var ge=F.default.div.withConfig({displayName:"CustomYearSelectorstyle__ComponentBase",componentId:"sc-14p4hrg-0"})(["display:flex;background-color:rgba(255,255,255,0.78);"]),fe=F.default.div.withConfig({displayName:"CustomYearSelectorstyle__YearLabel",componentId:"sc-14p4hrg-1"})(["font-size:10px;font-family:",";color:",";padding:14px 0;line-height:12px;flex-grow:1;text-align:center;"],V.a.font.zoomFontFamOne,V.a.color.smallTextBlack),he=Object(F.default)(fe).withConfig({displayName:"CustomYearSelectorstyle__SelectedYearLabel",componentId:"sc-14p4hrg-2"})(["background-color:",";color:",";&:first-child{background-color:#000;4}"],V.a.color.aidsFondsBlue,V.a.color.aidsFondsWhite),ye=Object(F.default)(fe).withConfig({displayName:"CustomYearSelectorstyle__StartControl",componentId:"sc-14p4hrg-3"})(["background-color:",";color:",";flex-grow:0;position:relative;padding-left:0.5%;margin-right:0.5%;&:before{border-left:12px solid ",";border-top:20px solid ",";border-bottom:20px solid ",";content:'';height:0;left:100%;position:absolute;top:0;width:0;}&:hover{cursor:pointer;}&:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing;}user-select:none;-webkit-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-o-user-select:none;-moz-user-select:none;"],V.a.color.aidsFondsRed,V.a.color.aidsFondsWhite,V.a.color.aidsFondsRed,V.a.color.aidsFondsBlue,V.a.color.aidsFondsBlue),be=Object(F.default)(fe).withConfig({displayName:"CustomYearSelectorstyle__EndControl",componentId:"sc-14p4hrg-4"})(["background-color:",";color:",";flex-grow:0;position:relative;padding-right:0.5%;margin-left:0.5%;&:before{border-right:12px solid ",";border-top:20px solid ",";border-bottom:20px solid ",";content:'';height:0;right:100%;position:absolute;top:0;width:0;}&:hover{cursor:pointer;}user-select:none;-webkit-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-o-user-select:none;-moz-user-select:none;&:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing;}"],V.a.color.aidsFondsRed,V.a.color.aidsFondsWhite,V.a.color.aidsFondsRed,V.a.color.aidsFondsBlue,V.a.color.aidsFondsBlue),ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={numArray:[],mouseDown:"none",selectedYears:e.selectedYears},a.handleMouseEnter=a.handleMouseEnter.bind(Object(c.a)(Object(c.a)(a))),a.handleMouseDown=a.handleMouseDown.bind(Object(c.a)(Object(c.a)(a))),a.handleMouseUp=a.handleMouseUp.bind(Object(c.a)(Object(c.a)(a))),a.renderYearLabels=a.renderYearLabels.bind(Object(c.a)(Object(c.a)(a))),a.setWrapperRef=a.setWrapperRef.bind(Object(c.a)(Object(c.a)(a))),a.handleMoveOutside=a.handleMoveOutside.bind(Object(c.a)(Object(c.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseover",this.handleMoveOutside);for(var e=[],t=this.props.min;t<this.props.max+1;t++)e.push(t.toString());this.setState({numArray:e})}},{key:"componentDidUpdate",value:function(e,t){f()(this.props.selectedYears,e.selectedYears)||this.setState({selectedYears:this.props.selectedYears}),this.state.mouseDown!==t.mouseDown&&"none"===this.state.mouseDown&&this.props.selectYear([parseInt(this.state.selectedYears[0],10),parseInt(this.state.selectedYears[this.state.selectedYears.length-1],10)])}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseover",this.handleMoveOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleMoveOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&"none"!==this.state.mouseDown&&this.setState({mouseDown:"none"})}},{key:"handleMouseEnter",value:function(e){"none"!==this.state.mouseDown&&this.setState(function(t){var a=Object(n.a)(t.selectedYears),l=parseInt(e,10),o=parseInt(a[0],10),i=parseInt(a[a.length-1],10);if(l<o&&o-1!==l||l>i&&i+1!==l||l>o&&l<i&&("start"===t.mouseDown&&o+1!==l||"end"===t.mouseDown&&i-1!==l))return{mouseDown:"none"};var r=a.indexOf(e);return-1!==r?a[1]===e?a.splice(r-1,1):a.splice(r+1,1):l<o?a.unshift(e):a.push(e),{selectedYears:a}})}},{key:"handleMouseDown",value:function(e){this.setState({mouseDown:e})}},{key:"handleMouseUp",value:function(){this.setState({mouseDown:"none"})}},{key:"renderYearLabels",value:function(e,t){var a=this;return e===this.state.selectedYears[0]?p.a.createElement(ye,{onMouseDown:function(){return a.handleMouseDown("start")},onMouseUp:function(){return a.handleMouseUp()},key:"year-".concat(t)},e):e===this.state.selectedYears[this.state.selectedYears.length-1]?p.a.createElement(be,{key:"year-".concat(t),onMouseDown:function(){return a.handleMouseDown("end")},onMouseUp:function(){return a.handleMouseUp()}},e):-1!==this.state.selectedYears.indexOf(e)?p.a.createElement(he,{onMouseEnter:function(){return a.handleMouseEnter(e)},onMouseUp:function(){return a.handleMouseUp()},key:"year-".concat(t)},e):p.a.createElement(fe,{onMouseEnter:function(){return a.handleMouseEnter(e)},onMouseUp:function(){return a.handleMouseUp()},key:"year-".concat(t)},e)}},{key:"render",value:function(){return p.a.createElement(ge,{ref:this.setWrapperRef},this.state.numArray.map(this.renderYearLabels))}}]),t}(p.a.Component);ve.defaultProps={min:1990,max:2019,selectedYears:["2002","2003","2004","2005","2006","2007","2008"]};var ke=ve;ve.__docgenInfo={description:"",methods:[{name:"setWrapperRef",docblock:"Set the wrapper ref",modifiers:[],params:[{name:"node"}],returns:null,description:"Set the wrapper ref"},{name:"handleMoveOutside",docblock:"Alert if clicked on outside of element",modifiers:[],params:[{name:"event"}],returns:null,description:"Alert if clicked on outside of element"},{name:"handleMouseEnter",docblock:null,modifiers:[],params:[{name:"number",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[{name:"mouseDown",type:null}],returns:null},{name:"handleMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"renderYearLabels",docblock:null,modifiers:[],params:[{name:"number",type:null},{name:"index",type:null}],returns:null}],displayName:"CustomYearSelector",props:{min:{defaultValue:{value:"1990",computed:!1},type:{name:"number"},required:!1,description:""},max:{defaultValue:{value:"2019",computed:!1},type:{name:"number"},required:!1,description:""},selectedYears:{defaultValue:{value:"['2002', '2003', '2004', '2005', '2006', '2007', '2008']",computed:!1},type:{name:"arrayOf",value:{name:"string"}},required:!1,description:""}}};var xe=function(e){return p.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"10",height:"10",viewBox:"0 0 10 10",style:{margin:"auto"}},e),p.a.createElement("defs",null,p.a.createElement("path",{id:"qgwfa",d:"M1237 74h-2v4h-4v2h4v4h2v-4h4v-2h-4z"})),p.a.createElement("use",{fill:"#4a4a4a",xlinkHref:"#qgwfa",transform:"translate(-1231 -74)"}))},Ie=xe;xe.__docgenInfo={description:"",methods:[],displayName:"SvgOnlyIconPlus"};var we=function(e){return p.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"10",height:"2",viewBox:"0 0 10 2",style:{margin:"auto"}},e),p.a.createElement("defs",null,p.a.createElement("path",{id:"ee0xa",d:"M1235 109h-4v2h10v-2h-4z"})),p.a.createElement("use",{fill:"#4a4a4a",xlinkHref:"#ee0xa",transform:"translate(-1231 -109)"}))},Se=we;we.__docgenInfo={description:"",methods:[],displayName:"SvgOnlyIconMinus"};var Oe=function(e){return p.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"11",height:"11",viewBox:"0 0 11 11",style:{margin:"auto"}},e),p.a.createElement("defs",null,p.a.createElement("path",{id:"67xwa",d:"M1242 137v3.929h-1.571v-2.358h-2.358V137zm-1.571 7.071H1242V148h-3.929v-1.571h2.358zM1231 137h3.929v1.571h-2.358v2.358H1231zm1.571 9.429h2.358V148H1231v-3.929h1.571z"})),p.a.createElement("use",{fill:"#4a4a4a",xlinkHref:"#67xwa",transform:"translate(-1231 -137)"}))},_e=Oe;Oe.__docgenInfo={description:"",methods:[],displayName:"SvgOnlyIconFullScreen"};var je=F.default.div.withConfig({displayName:"MapControlsstyle__ComponentBase",componentId:"sc-1k8mm0t-0"})(["padding:3px 5px;display:flex;flex-direction:column;"]),Ne=F.default.div.withConfig({displayName:"MapControlsstyle__ButtonContainer",componentId:"sc-1k8mm0t-1"})(["display:flex;margin:4px 0;width:26px;height:26px;border-radius:20px;background-color:",";&:hover{background-color:",";cursor:pointer;}"],V.a.color.aidsFondsWhite,V.a.color.zoomGreyThree),Ce=F.default.div.withConfig({displayName:"MapControlsstyle__DisabledElement",componentId:"sc-1k8mm0t-2"})(["user-select:none;opacity:0.5;pointer-events:none;"]),Me=function(e){return p.a.createElement(je,null,p.a.createElement(Ne,{onClick:e.onZoomIn,"data-cy":"home-zoom-out-button"},p.a.createElement(Ie,null)),p.a.createElement(Ne,{onClick:e.onZoomOut,"data-cy":"home-zoom-in-button"},p.a.createElement(Se,null)),p.a.createElement(Ce,null,p.a.createElement(Ne,{onClick:e.onFullScreen,"data-cy":"home-fullscreen-button"},p.a.createElement(_e,null))))};Me.defaultProps={onZoomIn:null,onZoomOut:null,onFullScreen:null};var Ee=Me;Me.__docgenInfo={description:"",methods:[],displayName:"MapControls",props:{onZoomIn:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""},onZoomOut:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""},onFullScreen:{defaultValue:{value:"null",computed:!1},type:{name:"func"},required:!1,description:""}}};var Le=a(1227),Fe=F.default.div.withConfig({displayName:"GeoMapstyle__MapContainer",componentId:"sc-1ais8zc-0"})(["height:calc(100vh - 40px);"]),Ve=(F.default.div.withConfig({displayName:"GeoMapstyle__NavContainer",componentId:"sc-1ais8zc-1"})(["position:absolute;top:0;left:0;padding:10px;width:100vw;display:flex;justify-content:space-between;"]),F.default.div.withConfig({displayName:"GeoMapstyle__LegendContainer",componentId:"sc-1ais8zc-2"})(["position:fixed;width:fit-content;left:10px;display:flex;flex-direction:column;"])),De=F.default.div.withConfig({displayName:"GeoMapstyle__YearContainer",componentId:"sc-1ais8zc-3"})(["position:fixed;width:98%;bottom:12px;z-index:2;left:1%;"]),Ae=(F.default.div.withConfig({displayName:"GeoMapstyle__NavControlContainer",componentId:"sc-1ais8zc-4"})(["height:100px;"]),F.default.div.withConfig({displayName:"GeoMapstyle__CountyInfo",componentId:"sc-1ais8zc-5"})(["width:200px;z-index:100;border-radius:5px;padding:15px;font-size:14px;"]),F.default.div.withConfig({displayName:"GeoMapstyle__ControlsContainer",componentId:"sc-1ais8zc-6"})(["position:fixed;top:54px;right:26px;background-color:rgba(239,239,239,0.72);z-index:1;"])),ze=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(r.a)(this,Object(s.a)(t).call(this,e)),Object(I.a)(Object(c.a)(Object(c.a)(a)),"_updateViewport",function(e){return a.setState({viewport:e})}),Object(I.a)(Object(c.a)(Object(c.a)(a)),"_setLayerInfo",function(e){var t=null,n=e.features,l=n&&n.find(function(e){return"layer"===e.layer.id});l&&(t={lngLat:e.lngLat,properties:l.properties}),a.setState({hoverLayerInfo:t})}),Object(I.a)(Object(c.a)(Object(c.a)(a)),"_onCountryClick",function(e){var t=e.features,n=t&&t.find(function(e){return"layer"===e.layer.id});n&&a.props.history.push("country/".concat(n.properties.iso2))}),Object(I.a)(Object(c.a)(Object(c.a)(a)),"handleZoomIn",function(){a._updateViewport({zoom:a.state.viewport.zoom+1})}),Object(I.a)(Object(c.a)(Object(c.a)(a)),"handleZoomOut",function(){a._updateViewport({zoom:a.state.viewport.zoom-1})}),a.defaultMapStyle=Object(l.a)({},Le,{sources:Object(l.a)({},Le.sources),layers:Le.layers.slice()}),a.state={mapStyle:Object(_.a)(a.defaultMapStyle),markerArray:[],legends:[],hoverLayerInfo:null,viewport:{latitude:15,longitude:0,bearing:0,pitch:0,zoom:2},hoverMarkerInfo:null,values:[12,16],fullScreen:!1},a.setMarkerInfo=a.setMarkerInfo.bind(Object(c.a)(Object(c.a)(a))),a.handleZoomIn=a.handleZoomIn.bind(Object(c.a)(Object(c.a)(a))),a.handleZoomOut=a.handleZoomOut.bind(Object(c.a)(Object(c.a)(a))),a.handleFullscreen=a.handleFullscreen.bind(Object(c.a)(Object(c.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){f()(this.props.indicatorData,e.indicatorData)||this.updateMap(this.props.indicatorData)}},{key:"componentWillUnmount",value:function(){}},{key:"updateMap",value:function(e){var t=N()(e,["type","layer"]);if(t){var a=this.defaultMapStyle,n=t.borderData?t.borderData:t.data;N()(a.layers,["id","outline"])||a.layers.push(oe),a=(a=Object(_.a)(a)).setIn(["sources","layer"],Object(_.a)({type:"geojson",data:t.data})).set("layers",a.get("layers").push(le)).setIn(["sources","outline"],Object(_.a)({type:"geojson",data:n})),this.setState({mapStyle:a})}else if(!f()(this.state.mapStyle,Object(_.a)(this.defaultMapStyle))){var l=this.defaultMapStyle,o=y()(l.layers,["id","outline"]);l.layers.splice(o,1),this.setState({mapStyle:Object(_.a)(l)})}var i=function(e,t){var a=[];return e.forEach(function(e){switch(e.type){case"location":var n=e.data.map(function(e,a){return L(e,a,t)});a.push(n);break;case"circle":var l=e.data.map(function(e,a){return J(e,a,t)});a.push(l)}}),a}(e,this.setMarkerInfo),r=function(e){var t=[];return e.forEach(function(e,a){switch(e.type){case"layer":t.push(P(e.legendName,a,e.data.minValue,e.data.maxValue));break;case"location":t.push($(e.legendName,a));break;case"circle":t.push(ne(e.legendName,a,e.data[0].minValue,e.data[0].maxValue))}}),t}(e);this.setState({markerArray:i,legends:r})}},{key:"_showLayerInfo",value:function(){var e=this.state,t=e.hoverLayerInfo;return e.hoverMarkerInfo?null:me(t)}},{key:"setMarkerInfo",value:function(e){this.setState({hoverMarkerInfo:e})}},{key:"_showMarkerInfo",value:function(){var e=this.state.hoverMarkerInfo;return ue(e)}},{key:"handleFullscreen",value:function(){this.setState(function(e){return{fullScreen:!e.handleFullscreen}})}},{key:"render",value:function(){var e=this.state,t=e.viewport,a=e.mapStyle,n=e.markerArray,l=e.legends;e.fullScreen;return p.a.createElement(Fe,{"data-cy":"geo-map-container"},p.a.createElement(Ae,null,p.a.createElement(Ee,{onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onFullScreen:this.handleFullscreen})),p.a.createElement(De,null,p.a.createElement(ke,{selectedYears:this.props.selectedYears,selectYear:this.props.selectYear})),p.a.createElement(S.c,Object.assign({},t,{scrollZoom:!0,width:"100%",height:"100%",mapStyle:a,onViewportChange:this._updateViewport,onHover:this._setLayerInfo,onClick:this._onCountryClick,mapboxApiAccessToken:"pk.eyJ1IjoiemltbWVybWFuMjAxNCIsImEiOiJhNUhFM2YwIn0.sedQBdUN7PJ1AjknVVyqZw"}),this._showLayerInfo(),this._showMarkerInfo(),n,p.a.createElement(Ve,null,l)))}}]),t}(u.Component),Te=Object(O.a)(ze);ze.__docgenInfo={description:"",methods:[{name:"updateMap",docblock:null,modifiers:[],params:[{name:"indicatorData",type:null}],returns:null},{name:"_updateViewport",docblock:null,modifiers:[],params:[{name:"viewport",type:null}],returns:null},{name:"_setLayerInfo",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"_showLayerInfo",docblock:null,modifiers:[],params:[],returns:null},{name:"setMarkerInfo",docblock:null,modifiers:[],params:[{name:"indicator",type:null}],returns:null},{name:"_showMarkerInfo",docblock:null,modifiers:[],params:[],returns:null},{name:"_onCountryClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleZoomIn",docblock:null,modifiers:[],params:[],returns:null},{name:"handleZoomOut",docblock:null,modifiers:[],params:[],returns:null},{name:"handleFullscreen",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GeoMap"};var Ke=a(272),Ye=F.default.div.withConfig({displayName:"HomeModulestyles__ControlPanelContainer",componentId:"sc-1mg5tb6-0"})(["position:fixed;right:0;top:0;z-index:9;display:flex;flex-direction:column;background:#fff;border-radius:0;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12);padding-top:20px;height:100%;"]),Be=(F.default.div.withConfig({displayName:"HomeModulestyles__PanelDuo",componentId:"sc-1mg5tb6-1"})(["display:flex;margin-bottom:20px;"]),F.default.div.withConfig({displayName:"HomeModulestyles__DropDownContainer",componentId:"sc-1mg5tb6-2"})(["display:flex;flex-direction:column;margin-left:5px;margin-right:5px;"]),Object(F.default)(Ke.a).withConfig({displayName:"HomeModulestyles__ModuleContainer",componentId:"sc-1mg5tb6-3"})([""])),Pe=a(369),Re=a(861),$e=a.n(Re),Ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={allIndNames:[],allCountries:[],allRegions:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onlyUnique",value:function(e,t,a){return y()(a,["label",e.label])===t}},{key:"componentDidMount",value:function(){var e=this.props.dropDownData.allIndicators.edges.map(function(e){return{label:e.node.name,value:e.node.name}});e=e.filter(this.onlyUnique),e=$e()(e,["label"]);var t=this.props.dropDownData.allCountries.edges.map(function(e){return{label:e.node.name,value:e.node.iso2}});t=$e()(t,["label"]);var a=this.props.dropDownData.allRegions.edges.map(function(e){return{label:e.node.name,value:e.node.country}});a=$e()(a,["label"]),this.setState({allIndNames:e,allCountries:t,allRegions:a})}},{key:"render",value:function(){var e=this.props,t=(e.dropDownData,Object(x.a)(e,["dropDownData"]));return p.a.createElement(Pe.a,Object.assign({indNames:this.state.allIndNames,countries:this.state.allCountries,regions:this.state.allRegions},t))}}]),t}(p.a.Component);Ue.defaultProps={dropDownData:{}};var He=Object(m.createFragmentContainer)(Ue,{dropDownData:function(){return a(1228)}}),Ze=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(r.a)(this,Object(s.a)(t).call(this,e)),Object(I.a)(Object(c.a)(Object(c.a)(a)),"onClose",function(){a.setState({dialogOpen:!1})}),Object(I.a)(Object(c.a)(Object(c.a)(a)),"toggleSideBar",function(){a.setState({sideBarOpen:!0})}),a.state={dialogOpen:!0,sideBarOpen:!1,indicators:[]},a.onClose=a.onClose.bind(Object(c.a)(Object(c.a)(a))),a.toggleSideBar=a.toggleSideBar.bind(Object(c.a)(Object(c.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.indicators,a=Object(x.a)(e,["indicators"]);return p.a.createElement(p.a.Fragment,null,p.a.createElement(Be,null,p.a.createElement(Te,{indicatorData:t,selectedYears:this.props.yearPeriod,selectYear:this.props.selectYear}),this.props.dataPaneOpen&&p.a.createElement(Ye,null,p.a.createElement(He,a))))}}]),t}(u.Component);Ze.defaultProps={indicators:[]};var qe=Object(w.b)(function(e){return{dataPaneOpen:e.dataPaneOpen.open}})(Ze);Ze.__docgenInfo={description:"",methods:[{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleSideBar",docblock:null,modifiers:[],params:[],returns:null}],displayName:"HomeModule",props:{indicators:{defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"custom",raw:"PropTypes.shape"}},required:!1,description:""}}};var We={indicators:[],selectedInd1:void 0,selectedInd2:void 0,subIndicators1:[],subIndicators2:[],selectedCountryVal:[],selectedSubInd1:[],selectedSubInd2:[],selectedRegionVal:[]},Ge=(new Date).getFullYear(),Je=Ge-15,Qe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state=Object(l.a)({yearPeriod:k([Je,Ge])},We),a.selectInd1=a.selectInd1.bind(Object(c.a)(Object(c.a)(a))),a.selectInd2=a.selectInd2.bind(Object(c.a)(Object(c.a)(a))),a.selectSubInd1=a.selectSubInd1.bind(Object(c.a)(Object(c.a)(a))),a.selectSubInd2=a.selectSubInd2.bind(Object(c.a)(Object(c.a)(a))),a.selectYear=a.selectYear.bind(Object(c.a)(Object(c.a)(a))),a.refetch=a.refetch.bind(Object(c.a)(Object(c.a)(a))),a.selectCountry=a.selectCountry.bind(Object(c.a)(Object(c.a)(a))),a.selectRegion=a.selectRegion.bind(Object(c.a)(Object(c.a)(a))),a.resetAll=a.resetAll.bind(Object(c.a)(Object(c.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){f()(this.props.indicatorAggregations,e.indicatorAggregations)||this.updateIndicators(),this.state.selectedInd1===t.selectedInd1&&this.state.selectedInd2===t.selectedInd2||this.refetch()}},{key:"updateIndicators",value:function(){var e=this.props.indicatorAggregations.subIndicators1.edges.map(function(e){return{label:e.node.name,value:e.node.name}}),t=this.props.indicatorAggregations.subIndicators2.edges.map(function(e){return{label:e.node.name,value:e.node.name}}),a=function(e){var t={type:"FeatureCollection",features:[]};return e.forEach(function(e){var a=y()(t.features,function(t){return e.geolocationIso2===t.properties.iso2});-1===a?t.features.push({geometry:JSON.parse(JSON.parse(e.geolocationPolygons)),properties:{name:e.geolocationTag,iso2:e.geolocationIso2,value:e.value,percentile:0}}):t.features[a].properties.value+=e.value}),t.minValue=Math.min.apply(Math,t.features.map(function(e){return e.properties.value})),t.maxValue=Math.max.apply(Math,t.features.map(function(e){return e.properties.value})),t}(this.props.indicatorAggregations.indicators1),n=function(e){var t=[];e.forEach(function(e){var l=y()(t,["geolocationIso2",e.geolocationIso2]);if(e.geolocationCenterLongLat)if(-1===l){var o=JSON.parse(JSON.parse(e.geolocationCenterLongLat)).coordinates;t.push({value:e.value,name:e.indicatorName,geolocationIso2:e.geolocationIso2,maxValue:a,minValue:n,longitude:o[0],latitude:o[1],country:e.geolocationTag})}else t[l].value=t[l].value+e.value});var a=Math.max.apply(Math,t.map(function(e){return e.value})),n=Math.min.apply(Math,t.map(function(e){return e.value}));return t.forEach(function(e){e.maxValue=a,e.minValue=n}),t}(this.props.indicatorAggregations.indicators2);!function(e,t){var a=e.features,n=Object(b.scaleQuantile)().domain(a.map(t)).range(Object(v.a)(9));a.forEach(function(e){var a=t(e);e.properties.value=a,e.properties.percentile=n(a)})}(a,function(e){return e.properties.value});var l=[];a.features.length>0&&l.push({type:"layer",data:a,legendName:" ".concat(this.state.selectedInd1," ")}),n.length>0&&l.push({type:"circle",data:n,legendName:" ".concat(this.state.selectedInd2," ")}),this.setState({indicators:l,subIndicators1:e,subIndicators2:t})}},{key:"refetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.selectedInd1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.selectedInd2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.yearPeriod,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.state.selectedSubInd1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.state.selectedSubInd2,o={indicator1:[e],indicator2:[t],countriesISO2:function(e,t){var a=[];return a=a.concat(e),t.forEach(function(e){"select all"!==e&&e.forEach(function(e){-1===a.indexOf(e.iso2)&&a.push(e.iso2)})}),a}(arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.state.selectedCountryVal,arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.state.selectedRegionVal),singleInd1:e||"null",singleInd2:t||"null",datePeriod:a,subInd1:n.length>0?n:["undefined"],subInd2:l.length>0?l:["undefined"]};this.props.relay.refetch(o)}},{key:"selectInd1",value:function(e){this.setState({selectedInd1:e.value,subIndicators1:[],selectedSubInd1:[]},this.refetch)}},{key:"selectInd2",value:function(e){this.setState({selectedInd2:e.value,subIndicators2:[],selectedSubInd2:[]},this.refetch)}},{key:"selectSubInd1",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];if("reset"!==e)if(t)e.forEach(function(e){a.push(e.value)});else{var l=(a=Object(n.a)(this.state.selectedSubInd1)).indexOf(e.value);-1===l?a.push(e.value):a.splice(l,1)}this.setState({selectedSubInd1:a},this.refetch)}},{key:"selectSubInd2",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];if("reset"!==e)if(t)e.forEach(function(e){a.push(e.value)});else{var l=(a=Object(n.a)(this.state.selectedSubInd2)).indexOf(e.value);-1===l?a.push(e.value):a.splice(l,1)}this.setState({selectedSubInd2:a},this.refetch)}},{key:"selectYear",value:function(e){this.setState({yearPeriod:k(e)},this.refetch)}},{key:"selectCountry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];if("reset"!==e)if(t)e.forEach(function(e){a.push(e.value)});else{var l=(a=Object(n.a)(this.state.selectedCountryVal)).indexOf(e.value);-1===l?a.push(e.value):a.splice(l,1)}this.setState({selectedCountryVal:a},this.refetch)}},{key:"selectRegion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];if("reset"!==e)if(t)e.forEach(function(e){a.push(e.value)});else{var l=(a=Object(n.a)(this.state.selectedRegionVal)).indexOf(e.value);-1===l?a.push(e.value):a.splice(l,1)}this.setState({selectedRegionVal:a},this.refetch)}},{key:"resetAll",value:function(){this.setState(Object(l.a)({},We),this.refetch)}},{key:"render",value:function(){return p.a.createElement(qe,{indicators:this.state.indicators,dropDownData:this.props.dropDownData,selectInd1:this.selectInd1,selectInd2:this.selectInd2,selectYear:this.selectYear,selectSubInd1:this.selectSubInd1,selectSubInd2:this.selectSubInd2,selectedInd1:this.state.selectedInd1,selectedInd2:this.state.selectedInd2,selectedSubInd1:this.state.selectedSubInd1,selectedSubInd2:this.state.selectedSubInd2,subIndicators1:this.state.subIndicators1,subIndicators2:this.state.subIndicators2,selectCountry:this.selectCountry,selectedCountryVal:this.state.selectedCountryVal,selectedRegionVal:this.state.selectedRegionVal,selectRegion:this.selectRegion,resetAll:this.resetAll,defaultYear:this.state.defaultYear,yearPeriod:this.state.yearPeriod})}}]),t}(u.Component);Qe.defaultProps={dropDownData:{},indicatorAggregations:{}};t.default=Object(m.createRefetchContainer)(Qe,{indicatorAggregations:function(){return a(1229)}},function(){return a(1230)})}}]);
//# sourceMappingURL=13.674007f3.chunk.js.map